{"version":3,"sources":["components/Navbar/Navbar.module.css","components/Dialogs/Dialogs.module.css","components/Navbar/Navbar.jsx","redux/dialogs-reducer.js","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/common/FormControls/FormControls.jsx","utils/validators/validators.js","components/Dialogs/Dialogs.jsx","components/hoc/withAuthRedirect.jsx","components/Dialogs/DialogsContainer.jsx","api/api.js","redux/users-reducer.js","components/Users/Users.jsx","assets/images/download.png","assets/images/a2dc9668f2cf170fe3efeb263128b0e7.gif","components/common/preloader/preloader.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Profile/ProfileInfo/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","redux/profile-reducer.js","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","App.jsx","reportWebVitals.js","redux/sidebar-reducer.js","redux/redux-store.js","index.js","components/common/FormControls/FormControls.module.css","components/Users/users.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Header/Header.module.css"],"names":["module","exports","Navbar","props","className","styles","nav","item","to","activeClassName","active","ADD_MESSAGE","initialState","messagesData","id","message","dialogsData","name","dialogsReducer","state","action","type","newMessage","newMessageText","DialogItem","dialog","Message","Textarea","input","meta","hasError","touched","error","formControl","Input","required","value","maxLengthCreator","maxLength","length","maxLengthMessage50","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","wrapperForTextarea","Field","component","placeholder","validate","Dialogs","dialogsElements","map","d","messagesElements","m","isAuth","dialogs","wrapperForMessage","dialogsItem","messages","values","addMessage","mapStateToPropsForRedirect","auth","withAuthRedirect","Component","RedirectComponent","undefined","this","React","connect","compose","messagesPage","dispatch","addMessageActionCreator","instance","axios","create","withCredentials","headers","baseURL","UsersAPI","currentPage","pageSize","get","then","response","data","userId","delete","post","console","warn","ProfileAPI","getProfile","getStatus","updateStatus","status","put","AuthAPI","email","password","rememberMe","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_USERS_TOTAL_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","setCurrentPage","toggleIsFetching","toggleFollowingProgress","usersReducer","u","followed","totalCount","filter","Users","pagesCount","Math","ceil","pages","i","push","wrapper","p","selectedPage","onClick","e","onPageChanged","usersPhoto","src","photos","small","alt","disabled","some","unfollow","follow","Preloader","preloader","getUsers","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","requestUsers","resultCode","followSuccess","unfollowSuccess","page","items","ProfileStatus","editMode","activateEditMode","setState","deactivateEditMode","handleFocus","event","target","select","statusChange","currentTarget","prevProps","prevStatesnsnsnap","onDoubleClick","onChange","onFocus","autoFocus","onBlur","ProfileInfo","profile","description","large","fullName","aboutMe","contacts","facebook","vk","ADD_POST","SET_USER_PROFILE","SET_STATUS","postsData","like","setStatus","profileReducer","newPost","newPostText","Post","likesAndMessage","maxLength10","AddNewPostFormRedux","posts","textarea","button","MyPosts","myPost","addPost","MyPostsContainer","profilePage","addPostActionCreator","Profile","ProfileContainer","match","params","authorizedUserId","history","withRouter","Header","header","login","logout","SET_USER_DATA","setAuthUserData","getAuthUserData","authReducer","HeaderContainer","LoginReduxForm","style","formSummaryError","stopSubmit","_error","formData","INITIALIZED_SUCCESS","initialized","appReducer","App","initializeApp","path","render","DialogsContainer","app","promise","Promise","all","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","reducers","combineReducers","sidebar","formReducer","store","createStore","applyMiddleware","thunkMiddleware","window","ReactDOM","document","getElementById"],"mappings":"0FACAA,EAAOC,QAAU,CAAC,IAAM,oBAAoB,KAAO,qBAAqB,OAAS,yB,+DCAjFD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,YAAc,6BAA6B,OAAS,wBAAwB,SAAW,0BAA0B,QAAU,yBAAyB,OAAS,wBAAwB,kBAAoB,mCAAmC,mBAAqB,sC,+JC+BvSC,EA5BA,SAACC,GACZ,OACI,sBAAKC,UAAWC,IAAOC,IAAvB,UACI,qBAAKF,UAAWC,IAAOE,KAAvB,SACI,cAAC,IAAD,CAASC,GAAG,WAAWC,gBAAiBJ,IAAOK,OAA/C,uBAEJ,qBAAKN,UAAWC,IAAOE,KAAvB,SACI,cAAC,IAAD,CAASC,GAAG,WAAWC,gBAAiBJ,IAAOK,OAA/C,wBAEJ,qBAAKN,UAAWC,IAAOE,KAAvB,SACI,cAAC,IAAD,CAASC,GAAG,QAAQC,gBAAiBJ,IAAOK,OAA5C,oBAEJ,qBAAKN,UAAWC,IAAOE,KAAvB,SACI,cAAC,IAAD,CAASC,GAAG,SAASC,gBAAiBJ,IAAOK,OAA7C,qBAEJ,qBAAKN,UAAWC,IAAOE,KAAvB,SACI,cAAC,IAAD,CAASC,GAAG,YAAYC,gBAAiBJ,IAAOK,OAAhD,wBAEJ,qBAAKN,UAAWC,IAAOE,KAAvB,SACI,cAAC,IAAD,CAASC,GAAG,SAASC,gBAAiBJ,IAAOK,OAA7C,qBAEJ,qBAAKN,UAAWC,IAAOE,KAAvB,SACI,cAAC,IAAD,CAASC,GAAG,SAASC,gBAAiBJ,IAAOK,OAA7C,yB,uBC1BVC,EAAc,cAEhBC,EAAe,CACfC,aAAc,CACV,CAACC,GAAI,EAAGC,QAAS,MACjB,CAACD,GAAI,EAAGC,QAAS,OACjB,CAACD,GAAI,EAAGC,QAAS,OAErBC,YAAa,CACT,CAACF,GAAI,EAAGG,KAAM,QACd,CAACH,GAAI,EAAGG,KAAM,SACd,CAACH,GAAI,EAAGG,KAAM,YAsBPC,EAlBQ,WAAmC,IAAlCC,EAAiC,uDAAzBP,EAAcQ,EAAW,uCAErD,OAAQA,EAAOC,MACX,KAAKV,EACD,IAAIW,EAAa,CACbR,GAAI,EACJC,QAASK,EAAOG,gBAEpB,OAAO,2BACAJ,GADP,IAEIN,aAAa,GAAD,mBAAMM,EAAMN,cAAZ,CAA0BS,MAE9C,QACI,OAAOH,I,iBCfJK,EATI,SAACrB,GAEhB,OACI,qBAAKC,UAAWC,IAAOoB,OAAvB,SACI,cAAC,IAAD,CAAShB,gBAAiBJ,IAAOK,OAAQF,GAHtC,YAGiDL,EAAMW,GAA1D,SAA+DX,EAAMc,UCGlES,EARC,SAACvB,GACb,OACQ,qBAAKC,UAAWC,IAAOU,QAAvB,SACKZ,EAAMY,W,2CCHVY,EAAW,SAAC,GAA6B,IAA5BC,EAA2B,EAA3BA,MAAOC,EAAoB,EAApBA,KAAS1B,EAAW,gCAE7C2B,EAAWD,EAAKE,SAAWF,EAAKG,MAEpC,OACI,sBAAK5B,UAAWC,IAAO4B,YAAc,KAAOH,EAAWzB,IAAO2B,MAAQ,IAAtE,UACI,8BACI,oDAAcJ,GAAWzB,MAE5B2B,GAAY,+BAAOD,EAAKG,YAKxBE,EAAQ,SAAC,GAA6B,IAA5BN,EAA2B,EAA3BA,MAAOC,EAAoB,EAApBA,KAAS1B,EAAW,gCAE1C2B,EAAWD,EAAKE,SAAWF,EAAKG,MAEpC,OACI,sBAAK5B,UAAWC,IAAO4B,YAAc,KAAOH,EAAWzB,IAAO2B,MAAQ,IAAtE,UACI,8BACI,iDAAWJ,GAAWzB,MAEzB2B,GAAY,+BAAOD,EAAKG,YC1BxBG,EAAW,SAAAC,GACpB,IAAGA,EACH,MAAO,qBAIEC,EAAmB,SAACC,GAAD,OAAe,SAACF,GAC5C,GAAGA,EAAMG,OAASD,EAAW,MAAM,iBAAN,OAAwBA,EAAxB,cCE3BE,EAAqBH,EAAiB,IAyCtCI,EAAsBC,YAAU,CAACC,KAAM,wBAAjBD,EAbL,SAACvC,GACpB,OACI,uBAAMyC,SAAUzC,EAAM0C,aAAczC,UAAWC,IAAOyC,mBAAtD,UACI,cAACC,EAAA,EAAD,CAAOC,UAAWrB,EACXV,KAAM,iBACNgC,YAAa,qBACbC,SAAU,CAACf,EAASK,KAE3B,yDAOGW,EAzCC,SAAChD,GAEb,IAAIiD,EAAkBjD,EAAMa,YAAYqC,KAAI,SAAAC,GAAC,OAAI,cAAC,EAAD,CAAYrC,KAAMqC,EAAErC,KAAiBH,GAAIwC,EAAExC,IAAZwC,EAAExC,OAC9EyC,EAAmBpD,EAAMU,aAAawC,KAAI,SAAAG,GAAC,OAAI,cAAC,EAAD,CAASzC,QAASyC,EAAEzC,SAAcyC,EAAE1C,OAMvF,OAAIX,EAAMsD,OAGN,sBAAKrD,UAAWC,IAAOqD,QAAvB,UACI,sBAAKtD,UAAWC,IAAOsD,kBAAvB,UACI,qBAAKvD,UAAWC,IAAOuD,YAAvB,SACKR,IAEL,qBAAKhD,UAAWC,IAAOwD,SAAvB,SACKN,OAGT,cAACd,EAAD,CAAqBG,SAhBT,SAACkB,GACjB3D,EAAM4D,WAAWD,EAAOvC,sBAGH,cAAC,IAAD,CAAUf,GAAG,Y,OCdtCwD,EAA6B,SAAC7C,GAAD,MAAY,CACzCsC,OAAQtC,EAAM8C,KAAKR,SAIVS,EAAmB,SAACC,GAAe,IAEtCC,EAFqC,4JAGvC,WACI,YAAyBC,IAAtBC,KAAKnE,MAAMsD,OAA6B,KACvCa,KAAKnE,MAAMsD,OACR,cAACU,EAAD,eAAeG,KAAKnE,QADG,cAAC,IAAD,CAAUK,GAAI,eALT,GAEX+D,IAAMJ,WAUtC,OAFqCK,YAAQR,EAARQ,CAAoCJ,I,OCE9DK,cAAQD,aAhBD,SAACrD,GACnB,MAAO,CACHH,YAAaG,EAAMuD,aAAa1D,YAChCH,aAAcM,EAAMuD,aAAa7D,aACjCU,eAAgBJ,EAAMuD,aAAanD,mBAIlB,SAACoD,GACtB,MAAO,CACHZ,WAAY,SAACxC,GACToD,EPa2B,SAACpD,GAAD,MAAqB,CAACF,KAAMV,EAAYY,kBOb1DqD,CAAwBrD,SAKwB2C,EAAtDO,CAAwEtB,G,SCrBjF0B,E,OAAWC,EAAMC,OAAO,CACtBC,iBAAiB,EACjBC,QAAS,CACL,UAAW,wCAEnBC,QAAQ,kDAGCC,EAAW,SACXC,EAAaC,GAClB,OAAOR,EAASS,IAAT,qBAA2BF,EAA3B,kBAAgDC,IAAYE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAFxFN,EAAW,SAIXO,GACL,OAAOb,EAASc,OAAT,iBAA0BD,IAAUH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SALhEN,EAAW,SAObO,GACH,OAAOb,EAASe,KAAT,iBAAwBF,IAAUH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAR9DN,EAAW,SAUTO,GAEP,OADAG,QAAQC,KAAK,6CACNC,EAAWC,WAAWN,IAIxBK,EAAa,CACtBC,WADsB,SACXN,GACP,OAAOb,EAASS,IAAT,kBAAwBI,IAAWH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAExEQ,UAJsB,SAIZP,GACN,OAAOb,EAASS,IAAT,yBAA+BI,IAAUH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAE9ES,aAPsB,SAOTC,GACT,OAAOtB,EAASuB,IAAT,iBAA8B,CAACD,OAAOA,IAASZ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAK3EY,EAAU,WAEf,OAAOxB,EAASS,IAAT,WAAwBC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAFpDY,EAAU,SAIbC,EAAMC,GAA8B,IAArBC,EAAoB,wDACrC,OAAO3B,EAASe,KAAT,aAA2B,CAACU,QAAMC,WAASC,eAAajB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SALpFY,EAAU,WAQf,OAAOxB,EAASc,OAAT,cAA8BJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SC7CjEgB,EAAS,SACTC,GAAW,WACXC,GAAY,YACZC,GAAmB,mBACnBC,GAAwB,wBACxBC,GAAqB,qBACrBC,GAA+B,+BAEjCnG,GAAe,CACfoG,MAAO,GACP3B,SAAS,GACT4B,gBAAgB,EAChB7B,YAAY,EACZ8B,YAAY,EACZC,oBAAqB,IAgDZC,GAAiB,SAAChC,GAAD,MAAkB,CAAC/D,KAAMuF,GAAkBxB,gBAE5DiC,GAAmB,SAACH,GAAD,MAAiB,CAAC7F,KAAMyF,GAAoBI,eAC/DI,GAA0B,SAACJ,EAAWxB,GAAZ,MAAwB,CAACrE,KAAM0F,GAA8BG,aAAWxB,WA2ChG6B,GA3FM,WAAmC,IAAlCpG,EAAiC,uDAAzBP,GAAcQ,EAAW,uCACnD,OAAQA,EAAOC,MACX,KAAKoF,EACD,OAAO,2BACAtF,GADP,IAEI6F,MAAO7F,EAAM6F,MAAM3D,KAAI,SAAAmE,GACnB,OAAGA,EAAE1G,KAAOM,EAAOsE,OACR,2BAAI8B,GAAX,IAAaC,UAAS,IAEnBD,OAGnB,KAAKd,GACD,OAAO,2BACAvF,GADP,IAEI6F,MAAO7F,EAAM6F,MAAM3D,KAAI,SAAAmE,GACnB,OAAGA,EAAE1G,KAAOM,EAAOsE,OACR,2BAAI8B,GAAX,IAAaC,UAAS,IAEnBD,OAGnB,KAAKb,GACD,OAAO,2BAAIxF,GAAX,IAAkB6F,MAAM5F,EAAO4F,QACnC,KAAKJ,GACD,OAAO,2BAAIzF,GAAX,IAAkBiE,YAAYhE,EAAOgE,cACzC,KAAKyB,GACD,OAAO,2BAAI1F,GAAX,IAAkB8F,gBAAgB7F,EAAOsG,aAC7C,KAAKZ,GACD,OAAO,2BAAI3F,GAAX,IAAkB+F,WAAW9F,EAAO8F,aACxC,KAAKH,GACD,OAAO,2BACA5F,GADP,IAEIgG,oBAAqB/F,EAAO8F,WAAP,sBACX/F,EAAMgG,qBADK,CACgB/F,EAAOsE,SACtCvE,EAAMgG,oBAAoBQ,QAAQ,SAAA7G,GAAE,OAAIA,IAAOM,EAAOsE,YAEpE,QACI,OAAOvE,I,oBClBJyG,GAlCH,SAACzH,GAGT,IAFA,IAAI0H,EAAaC,KAAKC,KAAK5H,EAAM8G,gBAAkB9G,EAAMkF,UACrD2C,EAAQ,GACHC,EAAI,EAAGA,GAAKJ,EAAYI,IAC7BD,EAAME,KAAKD,GAEf,OAAO,sBAAK7H,UAAWC,KAAO8H,QAAvB,UACH,8BACKH,EAAM3E,KAAI,SAAA+E,GACP,OAAO,sBAAiBhI,UAAWD,EAAMiF,cAAgBgD,GAAK/H,KAAOgI,aACxDC,QAAS,SAACC,GACNpI,EAAMqI,cAAcJ,IAF9B,SAGUA,GAHCA,EAAEtH,SAM3BX,EAAM6G,MAAM3D,KAAI,SAAAmE,GAAC,OAAI,gCAClB,8BACI,cAAC,IAAD,CAAShH,GAAI,WAAagH,EAAE1G,GAA5B,SACI,qBAAKV,UAAWC,KAAOoI,WAAYC,IAAuB,MAAlBlB,EAAEmB,OAAOC,MAAgBpB,EAAEmB,OAAOC,MCvB/E,6gEDwBUC,IAAI,eAGjB,8BAAMrB,EAAEC,SACF,wBAAQqB,SAAU3I,EAAMgH,oBAAoB4B,MAAK,SAAAjI,GAAE,OAAIA,IAAO0G,EAAE1G,MAAKwH,QAAS,WAAOnI,EAAM6I,SAASxB,EAAE1G,KAAtG,sBACA,wBAAQgI,SAAU3I,EAAMgH,oBAAoB4B,MAAK,SAAAjI,GAAE,OAAIA,IAAO0G,EAAE1G,MAAKwH,QAAS,WAAOnI,EAAM8I,OAAOzB,EAAE1G,KAApG,sBAEN,8BAAM0G,EAAEvG,OACR,8BAAMuG,EAAErB,SACR,8BAAM,uBACN,8BAAM,sBAdsBqB,EAAE1G,WEpB3B,OAA0B,6DCQ1BoI,GAJC,SAAC/I,GACb,OAAO,qBAAKC,UAAWC,KAAO8I,UAAWT,IAAKS,GAAWN,IAAI,e,UCCpDO,GAAWC,cAJC,SAAClI,GACtB,OAAOA,EAAMmI,UAAUtC,SAG6B,SAACA,GACrD,OAAOA,EAAMW,QAAO,SAAAH,GAAC,OAAI,QAGhB+B,GAAc,SAACpI,GACxB,OAAOA,EAAMmI,UAAUjE,UAGdmE,GAAqB,SAACrI,GAC/B,OAAOA,EAAMmI,UAAUrC,iBAGdwC,GAAiB,SAACtI,GAC3B,OAAOA,EAAMmI,UAAUlE,aAGdsE,GAAgB,SAACvI,GAC1B,OAAOA,EAAMmI,UAAUpC,YAGdyC,GAAyB,SAACxI,GACnC,OAAOA,EAAMmI,UAAUnC,qBCZrByC,G,4MAKFpB,cAAgB,SAACqB,GACb,EAAK1J,MAAM2J,aAAaD,EAAW,EAAK1J,MAAMkF,W,uDALlD,WACIf,KAAKnE,MAAM2J,aAAaxF,KAAKnE,MAAMiF,YAAYd,KAAKnE,MAAMkF,Y,oBAO9D,WACI,OAAO,qCACFf,KAAKnE,MAAM+G,WAAa,cAAC,GAAD,IAAe,KACxC,cAAC,GAAD,CAAOD,gBAAiB3C,KAAKnE,MAAM8G,gBAC5B5B,SAAUf,KAAKnE,MAAMkF,SACrBD,YAAad,KAAKnE,MAAMiF,YACxBoD,cAAelE,KAAKkE,cACpBxB,MAAO1C,KAAKnE,MAAM6G,MAClBgC,SAAU1E,KAAKnE,MAAM6I,SACrBC,OAAQ3E,KAAKnE,MAAM8I,OACnB9B,oBAAqB7C,KAAKnE,MAAMgH,6B,GAnBtB5C,IAAMJ,WAqCnBM,eACZD,aAbkB,SAACrD,GACnB,MAAO,CACH6F,MAAOoC,GAASjI,GAChBkE,SAAUkE,GAAYpI,GACtB8F,gBAAiBuC,GAAmBrI,GACpCiE,YAAaqE,GAAetI,GAC5B+F,WAAYwC,GAAcvI,GAC1BgG,oBAAqBwC,GAAuBxI,MAOhD,CAAC8H,ON2BiB,SAACvD,GACnB,OAAO,SAACf,GACJA,EAAS2C,IAAwB,EAAM5B,IACvCP,EAAgBO,GACXH,MAAK,SAAAE,GAC0B,IAApBA,EAAKsE,YACLpF,EA1BK,SAACe,GAAD,MAAa,CAACrE,KAAMoF,EAAQf,UA0BxBsE,CAActE,IAE3Bf,EAAS2C,IAAwB,EAAM5B,SMnC9CsD,SNyCW,SAACtD,GACrB,OAAO,SAACf,GACJA,EAAS2C,IAAwB,EAAM5B,IACvCP,EAAkBO,GACbH,MAAK,SAAAE,GAC0B,IAApBA,EAAKsE,YACLpF,EAvCO,SAACe,GAAD,MAAa,CAACrE,KAAMqF,GAAUhB,UAuC5BuE,CAAgBvE,IAE7Bf,EAAS2C,IAAwB,EAAM5B,SMjDpC0B,kBAAgBE,2BAAyBwC,aNepC,SAACI,EAAK7E,GAC9B,OAAQ,SAACV,GACLA,EAAS0C,IAAiB,IAC1B1C,EAASyC,GAAe8C,IACxB/E,EAAkB+E,EAAK7E,GAAUE,MAAK,SAAAE,GAVtB,IAACuB,EAEUU,EASvB/C,EAAS0C,IAAiB,IAC1B1C,GAZaqC,EAYKvB,EAAK0E,MAZC,CAAC9I,KAAMsF,GAAWK,WAa1CrC,GAXuB+C,EAWKjC,EAAKiC,WAXM,CAACrG,KAAMwF,GAAuBa,uBMbjEjD,CAGdmF,I,oBCMaQ,G,4MAzDXjJ,MAAQ,CACJkJ,UAAU,EACVlE,OAAQ,EAAKhG,MAAMgG,Q,EAGvBmE,iBAAmB,WACf,EAAKC,SAAS,CACNF,UAAU,K,EAItBG,mBAAqB,WACjB,EAAKD,SAAS,CACNF,UAAU,IAElB,EAAKlK,MAAM+F,aAAa,EAAK/E,MAAMgF,S,EAGvCsE,YAAc,SAACC,GACXA,EAAMC,OAAOC,U,EAGjBC,aAAe,SAACtC,GACZ,EAAKgC,SAAS,CACVpE,OAAQoC,EAAEuC,cAAc1I,S,wDAIlC,SAAmB2I,EAAWC,GACrBD,EAAU5E,SAAW7B,KAAKnE,MAAMgG,QAC/B7B,KAAKiG,SAAS,CACVpE,OAAQ7B,KAAKnE,MAAMgG,W,oBAK/B,WACI,OACI,iCACM7B,KAAKnD,MAAMkJ,UACb,8BACI,sBAAMY,cAAe3G,KAAKgG,iBAA1B,SAA6ChG,KAAKnE,MAAMgG,QAAU,gBAErE7B,KAAKnD,MAAMkJ,UACZ,8BACI,uBAAOa,SAAU5G,KAAKuG,aACfM,QAAS7G,KAAKmG,YACdW,WAAW,EACXC,OAAQ/G,KAAKkG,mBACbpI,MAAOkC,KAAKnD,MAAMgF,kB,GAnDjB5B,IAAMJ,WCqBnBmH,GAlBK,SAACnL,GACjB,OAAKA,EAAMoL,QAIP,qBAAKnL,UAAWC,KAAO8H,QAAvB,SACI,sBAAK/H,UAAWC,KAAOmL,YAAvB,UACI,qBAAK9C,IAAKvI,EAAMoL,QAAQ5C,OAAO8C,QAC/B,8BAAMtL,EAAMoL,QAAQG,WACpB,8BAAMvL,EAAMoL,QAAQI,UACpB,8BAAMxL,EAAMoL,QAAQK,SAASC,WAC7B,8BAAM1L,EAAMoL,QAAQK,SAASE,KAC7B,cAAC,GAAD,CAAe3F,OAAQhG,EAAMgG,OAAQD,aAAc/F,EAAM+F,oBAV1D,cAAC,GAAD,KCLT6F,GAAW,WACXC,GAAmB,mBACnBC,GAAa,aAEfrL,GAAe,CACfsL,UAAW,CACP,CAACpL,GAAI,EAAGC,QAAS,QAASoL,KAAM,IAChC,CAACrL,GAAI,EAAGC,QAAS,QAASoL,KAAM,IAChC,CAACrL,GAAI,EAAGC,QAAS,QAASoL,KAAM,KAEpCZ,QAAS,KACTpF,OAAQ,IA0BCiG,GAAY,SAACjG,GAAD,MAAa,CAAC9E,KAAM4K,GAAY9F,WA8B1CkG,GArDQ,WAAmC,IAAlClL,EAAiC,uDAAzBP,GAAcQ,EAAW,uCAErD,OAAQA,EAAOC,MACX,KAAK0K,GACD,IAAIO,EAAU,CACVxL,GAAI,EACJC,QAASK,EAAOmL,YAChBJ,KAAM,IAEV,OAAO,2BACAhL,GADP,IAEI+K,UAAU,GAAD,mBAAM/K,EAAM+K,WAAZ,CAAuBI,MAExC,KAAKN,GACD,OAAO,2BAAI7K,GAAX,IAAkBoK,QAASnK,EAAOmK,UACtC,KAAKU,GACD,OAAO,2BAAI9K,GAAX,IAAkBgF,OAAQ/E,EAAO+E,SACrC,QACI,OAAOhF,I,wCChBJqL,GAdF,SAACrM,GACV,OACI,sBAAKC,UAAWC,KAAOE,KAAvB,UACI,qBAAKmI,IAAI,gFACT,sBAAKtI,UAAWC,KAAOoM,gBAAvB,UACKtM,EAAMY,QACP,gCACI,2CADJ,MAC4BZ,EAAMgM,eCH3CO,GAAerK,EAAiB,IAmCjCsK,GAAsBjK,YAAU,CAACC,KAAM,yBAAjBD,EAjBL,SAACvC,GACpB,OACI,uBAAMyC,SAAUzC,EAAM0C,aAAczC,UAAWC,KAAOuM,MAAtD,UACI,8BACI,cAAC7J,EAAA,EAAD,CAAOC,UAAWrB,EACXV,KAAM,cACNgC,YAAa,qBACbC,SAAU,CAACf,EAASuK,IACpBtM,UAAWC,KAAOwM,aAE7B,8BACI,wBAAQzM,UAAWC,KAAOyM,OAA1B,8BAQDC,GAnCC,SAAC5M,GAEb,IAAIyM,EAAQzM,EAAM+L,UAAU7I,KAAI,SAAAuC,GAAI,OAAI,cAAC,GAAD,CAAM7E,QAAS6E,EAAK7E,QAAuBoL,KAAMvG,EAAKuG,MAApBvG,EAAK9E,OAK/E,OACI,sBAAKV,UAAWC,KAAO8H,QAAvB,UACI,oBAAI/H,UAAWC,KAAO2M,OAAtB,sBACA,cAACL,GAAD,CAAqB/J,SANZ,SAACkB,GACd3D,EAAM8M,QAAQnJ,EAAOyI,gBAMhBK,MCAEM,GAFU1I,aAbH,SAACrD,GACnB,MAAO,CACH+K,UAAU/K,EAAMgM,YAAYjB,UAC5BK,YAAYpL,EAAMgM,YAAYZ,gBAIb,SAAC5H,GACtB,MAAO,CACHsI,QAAQ,SAACV,GAAiB5H,EHsBE,SAAC4H,GAAD,MAAkB,CAAClL,KAAM0K,GAASQ,eGtB3Ba,CAAqBb,QAIvC/H,CAA4CuI,ICLtDM,GATC,SAAClN,GACb,OACI,gCACI,cAAC,GAAD,CAAaoL,QAASpL,EAAMoL,QAASpF,OAAQhG,EAAMgG,OAAQD,aAAc/F,EAAM+F,eAC/E,cAAC,GAAD,QCDNoH,G,uKACF,WACI,IAAI5H,EAASpB,KAAKnE,MAAMoN,MAAMC,OAAO9H,OACjCA,IACAA,EAASpB,KAAKnE,MAAMsN,mBAEhBnJ,KAAKnE,MAAMuN,QAAQxF,KAAK,UAGhC5D,KAAKnE,MAAM6F,WAAWN,GACtBpB,KAAKnE,MAAM8F,UAAUP,K,oBAEzB,WACI,OAAO,cAAC,GAAD,2BAAapB,KAAKnE,OAAlB,IACSoL,QAASjH,KAAKnE,MAAMoL,QACpBpF,OAAQ7B,KAAKnE,MAAMgG,OACnBD,aAAc5B,KAAKnE,MAAM+F,oB,GAhBlB3B,IAAMJ,WA2BtBM,eACXD,aARkB,SAACrD,GAAD,MAAY,CAC9BoK,QAASpK,EAAMgM,YAAY5B,QAC3BpF,OAAQhF,EAAMgM,YAAYhH,OAC1BsH,iBAAkBtM,EAAM8C,KAAKyB,OAC7BjC,OAAOtC,EAAM8C,KAAKR,UAIO,CAACuC,WLKJ,SAACN,GACvB,OAAO,SAACf,GACJQ,EAAoBO,GAAQH,MAAK,SAAAE,GAC7Bd,EANgC,CAACtD,KAAM2K,GAAkBT,QAMjC9F,SKRKQ,ULahB,SAACP,GACtB,OAAO,SAACf,GACJoB,EAAWE,UAAUP,GAChBH,MAAK,SAAAE,GACFd,EAASyH,GAAU3G,SKjBgBS,aLsBvB,SAACC,GACzB,OAAO,SAACxB,GACJoB,EAAWG,aAAaC,GACnBZ,MAAK,SAAAE,GACsB,IAApBA,EAAKsE,YACLpF,EAASyH,GAAUjG,WK1BnCwH,IACAzJ,EAHWO,CAIb6I,I,oBCtBaM,GAZA,SAACzN,GACZ,OACI,yBAAQC,UAAWC,KAAOwN,OAA1B,UACI,qBAAKnF,IAAI,gEAAgEG,IAAI,SAC7E,qBAAKzI,UAAWC,KAAOyN,MAAvB,SACK3N,EAAMsD,OAAS,gCAAMtD,EAAM2N,MAAZ,MAAqB,wBAAQxF,QAASnI,EAAM4N,OAAvB,wBAC9B,cAAC,IAAD,CAASvN,GAAG,SAAZ,yB,SCRjBwN,GAAgB,gBAElBpN,GAAe,CACf8E,OAAQ,KACRY,MAAO,KACPwH,MAAO,KACPrK,QAAQ,GAeCwK,GAAkB,SAACvI,EAAOY,EAAMwH,EAAMrK,GAApB,MAAgC,CAACpC,KAAK2M,GAAcvI,KAAK,CAACC,SAAOY,QAAMwH,QAAMrK,YAE/FyK,GAAkB,WAC3B,OAAO,SAACvJ,GACN,OAAQ0B,IAAed,MAAK,SAAAE,GACtB,GAAwB,IAApBA,EAAKsE,WAAkB,CAAC,IAAD,EACEtE,EAAKA,KAAzB3E,EADkB,EAClBA,GAAIwF,EADc,EACdA,MAAOwH,EADO,EACPA,MAChBnJ,EAASsJ,GAAgBnN,EAAIwF,EAAOwH,GAAM,UAmB7CC,GAAS,WAClB,OAAO,SAACpJ,GACJ0B,IAAiBd,MAAK,SAAAE,GACM,IAApBA,EAAKsE,YACLpF,EAASsJ,GAAgB,KAAM,KAAM,MAAK,SAM3CE,GAhDK,WAAmC,IAAlChN,EAAiC,uDAAzBP,GAAcQ,EAAW,uCAClD,OAAQA,EAAOC,MACX,KAAK2M,GACD,OAAO,2BACA7M,GACAC,EAAOqE,MAElB,QACI,OAAOtE,ICdbiN,G,4JAEF,WACI,OAAO,cAAC,GAAD,eAAY9J,KAAKnE,Y,GAHFoE,IAAMJ,WAarBK,gBANO,SAACrD,GAAD,MAAY,CAC9BsC,OAAQtC,EAAM8C,KAAKR,OACnBqK,MAAO3M,EAAM8C,KAAK6J,SAIkB,CAACC,WAA1BvJ,CAAmC4J,ICW5CC,GAAiB3L,YAAU,CAACC,KAAM,SAAjBD,EArBL,SAACvC,GACf,OACI,uBAAMyC,SAAUzC,EAAM0C,aAAtB,UACI,8BACI,cAACE,EAAA,EAAD,CAAOE,YAAa,QAAShC,KAAM,QAAS+B,UAAWd,EAAOgB,SAAU,CAACf,OAE7E,8BACI,cAACY,EAAA,EAAD,CAAO1B,KAAK,WAAW4B,YAAa,WAAYhC,KAAM,WAAY+B,UAAWd,EACtEgB,SAAU,CAACf,OAEtB,gCACI,cAACY,EAAA,EAAD,CAAO1B,KAAM,WAAYJ,KAAM,aAAc+B,UAAW,UAD5D,iBAGC7C,EAAM6B,OAAS,sBAAK5B,UAAWkO,IAAMC,iBAAtB,cAA0CpO,EAAM6B,SAChE,8BACI,mDA6BDwC,gBAJS,SAACrD,GAAD,MAAY,CAChCsC,OAAQtC,EAAM8C,KAAKR,UAGiB,CAACqK,MFhBpB,SAACxH,EAAMC,EAASC,GACjC,OAAO,SAAC7B,GACJ0B,EAAcC,EAAMC,EAASC,GAAYjB,MAAK,SAAAE,GAC1C,GAAwB,IAApBA,EAAKsE,WACLpF,EAASuJ,UACN,CACH,IAAInN,EAAU0E,EAAK5B,SAAStB,OAAS,EAAIkD,EAAK5B,SAAS,GAAK,aAC5Dc,EAAS6J,aAAW,QAAS,CAACC,OAAO1N,WESLgN,WAAjCvJ,EArBD,SAACrE,GAKX,OAAIA,EAAMsD,OACC,cAAC,IAAD,CAAUjD,GAAI,aAIrB,gCACI,uCACA,cAAC6N,GAAD,CAAgBzL,SAXP,SAAC8L,GACdvO,EAAM2N,MAAMY,EAASpI,MAAOoI,EAASnI,SAAUmI,EAASlI,qBC/B1DmI,GAAsB,sBAExB/N,GAAe,CACfgO,aAAa,GAyBFC,GAtBI,WAAmC,IAAlC1N,EAAiC,uDAAzBP,GAAcQ,EAAW,uCACjD,OAAQA,EAAOC,MACX,KAAKsN,GACD,MAAO,CACHC,aAAa,GAErB,QACI,OAAOzN,ICDb2N,G,uKACF,WACIxK,KAAKnE,MAAM4O,kB,oBAEf,WACI,OAAIzK,KAAKnE,MAAMyO,YAEX,sBAAKxO,UAAU,aAAf,UACI,cAAC,GAAD,IACA,sBAAKA,UAAU,oBAAf,UACI,cAAC,EAAD,IACA,sBAAKA,UAAU,oBAAf,UACI,cAAC,IAAD,CAAO4O,KAAK,oBAAoBC,OAAQ,kBAAM,cAAC,GAAD,OAC9C,cAAC,IAAD,CAAOD,KAAK,WAAWC,OAAQ,kBAAM,cAACC,EAAD,OACrC,cAAC,IAAD,CAAOF,KAAK,SAASC,OAAQ,kBAAM,cAAC,GAAD,OACnC,cAAC,IAAD,CAAOD,KAAK,SAASC,OAAQ,kBAAM,cAAC,GAAD,OACnC,cAAC,IAAD,CAAOD,KAAK,UACZ,cAAC,IAAD,CAAOA,KAAK,WACZ,cAAC,IAAD,CAAOA,KAAK,uBAbO,cAAC,GAAD,Q,GALzBzK,IAAMJ,WA8BTM,eACXkJ,IACAnJ,aANoB,SAACrD,GAAD,MAAY,CAChCyN,YAAYzN,EAAMgO,IAAIP,eAKE,CAACG,cDzBA,kBAAM,SAACpK,GAChC,IAAIyK,EAAUzK,EAASuJ,MAEvBmB,QAAQC,IAAI,CAACF,IAAU7J,MAAK,WACxBZ,EANiC,CAACtD,KAAMsN,YCyBjClK,CAE+BqK,ICnC/BS,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBlK,MAAK,YAAkD,IAA/CmK,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCPV5O,GAAe,G,oBCUfmP,GAAWC,YAAgB,CAC3B7C,YAAYd,GACZ3H,aAAaxD,EACb+O,QDV0B,WAAkC,IAAjC9O,EAAgC,uDAAxBP,GACnC,OAAOO,GCUPmI,UAAU/B,GACVtD,KAAKkK,GACLxL,KAAKuN,KACLf,IAAIN,KAGJsB,GAAQC,YAAYL,GAAUM,YAAgBC,OAElDC,OAAOJ,MAASA,GAEDA,UCfXK,IAASvB,OACL,cAAC,IAAD,UACI,cAAC,IAAD,CAAUkB,MAAOA,GAAjB,SACI,cAAC,GAAD,QAEUM,SAASC,eAAe,SAKlDnB,M,mBClBAvP,EAAOC,QAAU,CAAC,YAAc,kCAAkC,MAAQ,4BAA4B,iBAAmB,yC,mBCAzHD,EAAOC,QAAU,CAAC,WAAa,0BAA0B,QAAU,uBAAuB,aAAe,4BAA4B,UAAY,2B,mBCAjJD,EAAOC,QAAU,CAAC,MAAQ,uBAAuB,SAAW,0BAA0B,OAAS,wBAAwB,QAAU,yBAAyB,OAAS,0B,mBCAnKD,EAAOC,QAAU,CAAC,IAAM,yBAAyB,QAAU,6BAA6B,YAAc,mC,mBCAtGD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,gBAAkB,gC,mBCA9DD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,MAAQ,yB","file":"static/js/main.dd669241.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__ltNdz\",\"item\":\"Navbar_item__yKd0V\",\"active\":\"Navbar_active__1n4_D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__7mByN\",\"dialogsItem\":\"Dialogs_dialogsItem__B40io\",\"dialog\":\"Dialogs_dialog__cwZS3\",\"messages\":\"Dialogs_messages__14pQm\",\"message\":\"Dialogs_message__-t_Ke\",\"active\":\"Dialogs_active__1FT58\",\"wrapperForMessage\":\"Dialogs_wrapperForMessage__QPlcd\",\"wrapperForTextarea\":\"Dialogs_wrapperForTextarea__1fsYx\"};","import React from \"react\";\r\nimport styles from \"./Navbar.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Navbar = (props) => {\r\n    return (\r\n        <nav className={styles.nav}>\r\n            <div className={styles.item}>\r\n                <NavLink to=\"/profile\" activeClassName={styles.active}>Profile</NavLink>\r\n            </div>\r\n            <div className={styles.item}>\r\n                <NavLink to=\"/dialogs\" activeClassName={styles.active}>Messages</NavLink>\r\n            </div>\r\n            <div className={styles.item}>\r\n                <NavLink to=\"/news\" activeClassName={styles.active}>News</NavLink>\r\n            </div>\r\n            <div className={styles.item}>\r\n                <NavLink to=\"/music\" activeClassName={styles.active}>Music</NavLink>\r\n            </div>\r\n            <div className={styles.item}>\r\n                <NavLink to=\"/settings\" activeClassName={styles.active}>Settings</NavLink>\r\n            </div>\r\n            <div className={styles.item}>\r\n                <NavLink to=\"/users\" activeClassName={styles.active}>Users</NavLink>\r\n            </div>\r\n            <div className={styles.item}>\r\n                <NavLink to=\"/login\" activeClassName={styles.active}>Login</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","const ADD_MESSAGE = 'ADD-MESSAGE';\r\n\r\nlet initialState = {\r\n    messagesData: [\r\n        {id: 1, message: \"Hi\"},\r\n        {id: 2, message: \"Hey\"},\r\n        {id: 3, message: \"Ho\"},\r\n    ],\r\n    dialogsData: [\r\n        {id: 1, name: \"Dima\"},\r\n        {id: 2, name: \"Pasha\"},\r\n        {id: 3, name: \"Sergey\"},\r\n    ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            let newMessage = {\r\n                id: 4,\r\n                message: action.newMessageText,\r\n            }\r\n            return {\r\n                ...state,\r\n                messagesData: [...state.messagesData, newMessage],\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport const addMessageActionCreator = (newMessageText) => ({type: ADD_MESSAGE,newMessageText})\r\n\r\nexport default dialogsReducer;\r\n","import React from \"react\";\r\nimport styles from \"../Dialogs.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst DialogItem = (props) => {\r\n    let path = \"/dialogs/\";\r\n    return (\r\n        <div className={styles.dialog}>\r\n            <NavLink activeClassName={styles.active} to={path + props.id}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogItem;","import React from \"react\";\r\nimport styles from \"../Dialogs.module.css\";\r\n\r\nconst Message = (props) => {\r\n    return (\r\n            <div className={styles.message}>\r\n                {props.message}\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default Message;","import React from \"react\";\r\nimport styles from \"./FormControls.module.css\"\r\n\r\nexport const Textarea = ({input, meta, ...props}) => {\r\n\r\n    let hasError = meta.touched && meta.error\r\n\r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\r\n            <div>\r\n                <textarea {...input} {...props}/>\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n\r\n    let hasError = meta.touched && meta.error\r\n\r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\r\n            <div>\r\n                <input {...input} {...props}/>\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}","export const required = value => {\r\n    if(value) return undefined\r\n    return \"Field is required\"\r\n}\r\n\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if(value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n}","import React from \"react\";\r\nimport styles from \"./Dialogs.module.css\"\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {Textarea} from \"../common/FormControls/FormControls\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/validators\";\r\n\r\nconst maxLengthMessage50 = maxLengthCreator(50)\r\n\r\nconst Dialogs = (props) => {\r\n\r\n    let dialogsElements = props.dialogsData.map(d => <DialogItem name={d.name} key={d.id} id={d.id}/>)\r\n    let messagesElements = props.messagesData.map(m => <Message message={m.message} key={m.id}/>)\r\n\r\n    let addNewMessage = (values) => {\r\n        props.addMessage(values.newMessageText);\r\n    }\r\n\r\n    if(!props.isAuth) return <Redirect to=\"/login\" />\r\n\r\n    return (\r\n        <div className={styles.dialogs}>\r\n            <div className={styles.wrapperForMessage}>\r\n                <div className={styles.dialogsItem}>\r\n                    {dialogsElements}\r\n                </div>\r\n                <div className={styles.messages}>\r\n                    {messagesElements}\r\n                </div>\r\n            </div>\r\n            <AddMessageFormRedux onSubmit={addNewMessage}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst AddMessageForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={styles.wrapperForTextarea}>\r\n            <Field component={Textarea}\r\n                   name={\"newMessageText\"}\r\n                   placeholder={\"Enter your message\"}\r\n                   validate={[required,maxLengthMessage50]}\r\n            />\r\n            <button> Send Message</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddMessageFormRedux = reduxForm({form: \"dialogAddMessageForm\"})(AddMessageForm)\r\n\r\nexport default Dialogs;","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if(this.props.isAuth === undefined) return null\r\n            if(!this.props.isAuth) return <Redirect to={\"/login\"} />\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n   let  ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}","import React from \"react\";\r\nimport {addMessageActionCreator} from \"../../redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsData: state.messagesPage.dialogsData,\r\n        messagesData: state.messagesPage.messagesData,\r\n        newMessageText: state.messagesPage.newMessageText,\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addMessage: (newMessageText) => {\r\n            dispatch(addMessageActionCreator(newMessageText))\r\n        },\r\n    }\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, mapDispatchToProps), withAuthRedirect)(Dialogs)\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n        withCredentials: true,\r\n        headers: {\r\n            \"API-KEY\" :'d288c1a7-7477-4d25-ad13-eb66c2aaf9c9'\r\n        },\r\n    baseURL:'https://social-network.samuraijs.com/api/1.0/'\r\n})\r\n\r\nexport const UsersAPI = {\r\n    getUsers(currentPage, pageSize){\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => response.data)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`).then(response => response.data)\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`).then(response => response.data)\r\n    },\r\n    getProfile(userId) {\r\n        console.warn('Deprecated  method. PLease use ProfileAPI')\r\n        return ProfileAPI.getProfile(userId)\r\n    },\r\n}\r\n\r\nexport const ProfileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}` ).then(response => response.data)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`).then(response => response.data)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`,{status:status}).then(response => response.data)\r\n    }\r\n}\r\n\r\n\r\nexport const AuthAPI = {\r\n    auth() {\r\n        return instance.get(`auth/me`).then(response => response.data)\r\n    },\r\n    login(email,password,rememberMe = false) {\r\n        return instance.post(`auth/login`,{email,password,rememberMe}).then(response => response.data)\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`).then(response => response.data)\r\n    }\r\n}\r\n","import {UsersAPI} from \"../api/api\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_USERS_TOTAL_COUNT = 'SET_USERS_TOTAL_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize:10,\r\n    totalUsersCount:0,\r\n    currentPage:1,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if(u.id === action.userId){\r\n                        return {...u,followed:true}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if(u.id === action.userId){\r\n                        return {...u,followed:false}\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case SET_USERS:\r\n            return {...state, users:action.users}\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage:action.currentPage}\r\n        case SET_USERS_TOTAL_COUNT:\r\n            return {...state, totalUsersCount:action.totalCount}\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, isFetching:action.isFetching}\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter( id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId})\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId})\r\nexport const setUsers = (users) => ({type: SET_USERS, users})\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\r\nexport const setUsersTotalCount = (totalCount) => ({type: SET_USERS_TOTAL_COUNT, totalCount})\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleFollowingProgress = (isFetching,userId) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching,userId})\r\n\r\nexport const requestUsers = (page,pageSize) => {\r\n    return  (dispatch) => {\r\n        dispatch(toggleIsFetching(true))\r\n        dispatch(setCurrentPage(page))\r\n        UsersAPI.getUsers(page,pageSize).then(data => {\r\n            dispatch(toggleIsFetching(false))\r\n            dispatch(setUsers(data.items))\r\n            dispatch(setUsersTotalCount(data.totalCount))\r\n        })\r\n    }\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return (dispatch) => {\r\n        dispatch(toggleFollowingProgress(true, userId))\r\n        UsersAPI.follow(userId)\r\n            .then(data => {\r\n                    if (data.resultCode === 0) {\r\n                        dispatch(followSuccess(userId))\r\n                    }\r\n                    dispatch(toggleFollowingProgress(false,userId))\r\n                }\r\n            )\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return (dispatch) => {\r\n        dispatch(toggleFollowingProgress(true, userId))\r\n        UsersAPI.unfollow(userId)\r\n            .then(data => {\r\n                    if (data.resultCode === 0) {\r\n                        dispatch(unfollowSuccess(userId))\r\n                    }\r\n                    dispatch(toggleFollowingProgress(false,userId))\r\n                }\r\n            )\r\n    }\r\n}\r\n\r\n\r\nexport default usersReducer;","import React from \"react\";\r\nimport styles from \"./users.module.css\";\r\nimport userPhoto from \"../../assets/images/download.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet Users = (props) => {\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n    return <div className={styles.wrapper}>\r\n        <div>\r\n            {pages.map(p => {\r\n                return <span key={p.id} className={props.currentPage === p && styles.selectedPage}\r\n                             onClick={(e) => {\r\n                                 props.onPageChanged(p)\r\n                             }}>{p}</span>\r\n            })}\r\n        </div>\r\n        {props.users.map(u => <div key={u.id}>\r\n            <div>\r\n                <NavLink to={`profile/` + u.id}>\r\n                    <img className={styles.usersPhoto} src={u.photos.small != null ? u.photos.small : userPhoto}\r\n                         alt='avatar'/>\r\n                </NavLink>\r\n            </div>\r\n            <div>{u.followed\r\n                ? <button disabled={props.followingInProgress.some(id => id === u.id)} onClick={() => {props.unfollow(u.id)}}>Unfollow</button>\r\n                : <button disabled={props.followingInProgress.some(id => id === u.id)} onClick={() => {props.follow(u.id)}}>Follow</button>}\r\n            </div>\r\n            <div>{u.name}</div>\r\n            <div>{u.status}</div>\r\n            <div>{\"u.location.country\"}</div>\r\n            <div>{\"u.location.city\"}</div>\r\n        </div>)}\r\n    </div>\r\n}\r\n\r\nexport default Users;","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/a2dc9668f2cf170fe3efeb263128b0e7.89906e12.gif\";","import React from \"react\";\r\nimport styles from \"../../Users/users.module.css\";\r\nimport preloader from \"../../../assets/images/a2dc9668f2cf170fe3efeb263128b0e7.gif\";\r\n\r\nlet Preloader = (props) => {\r\n    return <img className={styles.preloader} src={preloader} alt=\"preloader\"/>\r\n}\r\n\r\nexport default Preloader;","import {createSelector} from \"reselect\";\r\n\r\nconst getUsersSelector = (state) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector,(users) => {\r\n    return users.filter(u => true)\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {follow, requestUsers, setCurrentPage, toggleFollowingProgress, unfollow} from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/preloader/preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.requestUsers(this.props.currentPage,this.props.pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.requestUsers(pageNumber,this.props.pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   onPageChanged={this.onPageChanged}\r\n                   users={this.props.users}\r\n                   unfollow={this.props.unfollow}\r\n                   follow={this.props.follow}\r\n                   followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\n\r\nexport default  compose(\r\n    connect(mapStateToProps,\r\n    {follow, unfollow, setCurrentPage, toggleFollowingProgress, requestUsers})\r\n)(UsersContainer)\r\n\r\n","import React from \"react\";\r\n\r\nclass ProfileStatus extends React.Component {\r\n\r\n    state = {\r\n        editMode: false,\r\n        status: this.props.status\r\n    }\r\n\r\n    activateEditMode = () => {\r\n        this.setState({\r\n                editMode: true,\r\n            })\r\n    }\r\n\r\n    deactivateEditMode = () => {\r\n        this.setState({\r\n                editMode: false\r\n            })\r\n        this.props.updateStatus(this.state.status)\r\n    }\r\n\r\n    handleFocus = (event) => {\r\n        event.target.select()\r\n    }\r\n\r\n    statusChange = (e) => {\r\n        this.setState({\r\n            status: e.currentTarget.value\r\n        })\r\n    }\r\n\r\n  componentDidUpdate(prevProps, prevStatesnsnsnap) {\r\n        if(prevProps.status !== this.props.status) {\r\n            this.setState({\r\n                status: this.props.status\r\n            })\r\n        }\r\n  }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {!this.state.editMode &&\r\n                <div>\r\n                    <span onDoubleClick={this.activateEditMode}>{this.props.status || \"no status\"}</span>\r\n                </div>}\r\n                {this.state.editMode &&\r\n                <div>\r\n                    <input onChange={this.statusChange}\r\n                           onFocus={this.handleFocus}\r\n                           autoFocus={true}\r\n                           onBlur={this.deactivateEditMode}\r\n                           value={this.state.status}/>\r\n                </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ProfileStatus;","import React from \"react\";\r\nimport styles from \"./ProfileInfo.module.css\";\r\nimport Preloader from \"../../common/preloader/preloader\";\r\nimport ProfileStatus from \"./ProfileStatus\";\r\n\r\nconst ProfileInfo = (props) => {\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    }\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <div className={styles.description}>\r\n                <img src={props.profile.photos.large}/>\r\n                <div>{props.profile.fullName}</div>\r\n                <div>{props.profile.aboutMe}</div>\r\n                <div>{props.profile.contacts.facebook}</div>\r\n                <div>{props.profile.contacts.vk}</div>\r\n                <ProfileStatus status={props.status} updateStatus={props.updateStatus}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo;","import {ProfileAPI, UsersAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS'\r\n\r\nlet initialState = {\r\n    postsData: [\r\n        {id: 1, message: 'post1', like: 10},\r\n        {id: 2, message: 'post2', like: 11},\r\n        {id: 3, message: 'post3', like: 12},\r\n    ],\r\n    profile: null,\r\n    status: \"\"\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                like: 15\r\n            }\r\n            return {\r\n                ...state,\r\n                postsData: [...state.postsData, newPost]\r\n            }\r\n        case SET_USER_PROFILE:\r\n            return {...state, profile: action.profile}\r\n        case SET_STATUS:\r\n            return {...state, status: action.status}\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST,newPostText})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setStatus = (status) => ({type: SET_STATUS, status})\r\n\r\nexport const getProfile = (userId) => {\r\n    return (dispatch) => {\r\n        UsersAPI.getProfile(userId).then(data => {\r\n            dispatch(setUserProfile(data))\r\n        })\r\n    }\r\n}\r\n\r\nexport const getStatus = (userId) => {\r\n    return (dispatch) => {\r\n        ProfileAPI.getStatus(userId)\r\n            .then(data => {\r\n                dispatch(setStatus(data))\r\n            })\r\n    }\r\n}\r\n\r\nexport const updateStatus = (status) => {\r\n    return (dispatch) => {\r\n        ProfileAPI.updateStatus(status)\r\n            .then(data => {\r\n                if (data.resultCode === 0) {\r\n                    dispatch(setStatus(status))\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport default profileReducer;","import React from \"react\";\r\nimport styles from \"./Post.module.css\";\r\n\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={styles.item}>\r\n            <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4d/Conor_McGregor_2018.jpg\"/>\r\n            <div className={styles.likesAndMessage}>\r\n                {props.message}\r\n                <div>\r\n                    <span> Likes </span> - {props.like}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post;","import React from \"react\";\r\nimport styles from \"./MyPosts.module.css\";\r\nimport Post from \"./Post/Post\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../../common/FormControls/FormControls\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\r\n\r\n\r\n const maxLength10 =  maxLengthCreator(10)\r\n\r\nconst MyPosts = (props) => {\r\n\r\n    let posts = props.postsData.map(post => <Post message={post.message} key={post.id} like={post.like}/>)\r\n\r\n    let addNewPost = (values) => {\r\n        props.addPost(values.newPostText)\r\n    }\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <h3 className={styles.myPost}>My posts</h3>\r\n            <AddNewPostFormRedux onSubmit={addNewPost}/>\r\n            {posts}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst AddNewPostForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={styles.posts}>\r\n            <div>\r\n                <Field component={Textarea}\r\n                       name={\"newPostText\"}\r\n                       placeholder={\"Enter your message\"}\r\n                       validate={[required,maxLength10]}\r\n                       className={styles.textarea}/>\r\n            </div>\r\n            <div>\r\n                <button className={styles.button}>Add Post</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddNewPostFormRedux = reduxForm({form: \"ProfileAddNewPostForm\"})(AddNewPostForm)\r\n\r\nexport default MyPosts;","import React from \"react\";\r\nimport {addPostActionCreator} from \"../../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        postsData:state.profilePage.postsData,\r\n        newPostText:state.profilePage.newPostText\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost:(newPostText) => {dispatch(addPostActionCreator(newPostText))}\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps,mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer;\r\n","import React from \"react\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n            <MyPostsContainer/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getProfile, getStatus, updateStatus} from \"../../redux/profile-reducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId\r\n        if(!userId){\r\n            userId = this.props.authorizedUserId\r\n            if(!userId) {\r\n                this.props.history.push(\"/login\")\r\n            }\r\n        }\r\n        this.props.getProfile(userId)\r\n        this.props.getStatus(userId)\r\n    }\r\n    render() {\r\n        return <Profile {...this.props}\r\n                        profile={this.props.profile}\r\n                        status={this.props.status}\r\n                        updateStatus={this.props.updateStatus}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth:state.auth.isAuth\r\n})\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getProfile,getStatus,updateStatus}),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer)\r\n\r\n","import React from \"react\";\r\nimport styles from \"./Header.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={styles.header}>\r\n            <img src=\"https://i.ibb.co/RNJ320j/telegram-logo-circle-icon-134012.png\" alt=\"logo\"/>\r\n            <div className={styles.login}>\r\n                {props.isAuth ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div>\r\n                    :  <NavLink to=\"/login\">Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import {AuthAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId,email,login,isAuth) => ({type:SET_USER_DATA,data:{userId,email,login,isAuth}})\r\n\r\nexport const getAuthUserData = () => {\r\n    return (dispatch) => {\r\n      return  AuthAPI.auth().then(data => {\r\n            if (data.resultCode === 0) {\r\n                let {id, email, login} = data.data\r\n                dispatch(setAuthUserData(id, email, login,true))\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport const login = (email,password,rememberMe) => {\r\n    return (dispatch) => {\r\n        AuthAPI.login(email,password,rememberMe).then(data => {\r\n            if (data.resultCode === 0) {\r\n                dispatch(getAuthUserData())\r\n            } else {\r\n                let message = data.messages.length > 0 ? data.messages[0] : \"Some error\"\r\n                dispatch(stopSubmit(\"login\", {_error:message}))\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport const logout = () => {\r\n    return (dispatch) => {\r\n        AuthAPI.logout().then(data => {\r\n            if (data.resultCode === 0) {\r\n                dispatch(setAuthUserData(null, null, null,false))\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport default authReducer;","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport Header from \"./Header\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer)","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../common/FormControls/FormControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login, logout} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport style from \"./../common/FormControls/FormControls.module.css\"\r\n\r\nconst LoginForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field placeholder={\"Email\"} name={\"email\"} component={Input} validate={[required]}/>\r\n            </div>\r\n            <div>\r\n                <Field type=\"password\" placeholder={\"Password\"} name={\"password\"} component={Input}\r\n                       validate={[required]}/>\r\n            </div>\r\n            <div>\r\n                <Field type={\"checkbox\"} name={\"rememberMe\"} component={\"input\"}/>Remember me\r\n            </div>\r\n            {props.error && <div className={style.formSummaryError}> {props.error}</div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login, logout})(Login);","\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const InitializedSuccess = () => ({type: INITIALIZED_SUCCESS})\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData())\r\n\r\n    Promise.all([promise]).then(() => {\r\n        dispatch(InitializedSuccess())\r\n    })\r\n}\r\n\r\n\r\nexport default appReducer;","import React from \"react\";\nimport './App.css';\nimport Navbar from \"./components/Navbar/Navbar\";\nimport {Route, withRouter} from \"react-router-dom\";\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {connect} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport Preloader from \"./components/common/preloader/preloader\";\n\n\nclass App extends React.Component {\n    componentDidMount() {\n        this.props.initializeApp()\n    }\n    render() {\n        if(!this.props.initialized) return <Preloader />\n        return (\n            <div className=\"appWrapper\">\n                <HeaderContainer/>\n                <div className=\"contentNavWrapper\">\n                    <Navbar/>\n                    <div className=\"appWrapperContent\">\n                        <Route path=\"/profile/:userId?\" render={() => <ProfileContainer/>}/>\n                        <Route path=\"/dialogs\" render={() => <DialogsContainer/>}/>\n                        <Route path=\"/users\" render={() => <UsersContainer/>}/>\n                        <Route path=\"/login\" render={() => <Login/>}/>\n                        <Route path=\"/news\"/>\n                        <Route path=\"/music\"/>\n                        <Route path=\"/settings\"/>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized:state.app.initialized\n})\n\nexport default compose(\n    withRouter,\n    connect(mapStateToProps,{initializeApp}))(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","let initialState = {};\r\n\r\n\r\nexport const sidebarReducer = (state = initialState,action) => {\r\n    return state;\r\n}","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport {sidebarReducer} from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\"\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage:profileReducer,\r\n    messagesPage:dialogsReducer,\r\n    sidebar:sidebarReducer,\r\n    usersPage:usersReducer,\r\n    auth:authReducer,\r\n    form:formReducer,\r\n    app:appReducer\r\n})\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.store  = store;\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {BrowserRouter} from \"react-router-dom\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport store from \"./redux/redux-store\";\nimport {Provider} from \"react-redux\";\n\n    ReactDOM.render(\n        <BrowserRouter>\n            <Provider store={store}>\n                <App/>\n            </Provider>\n        </BrowserRouter>, document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__2oYBR\",\"error\":\"FormControls_error__206VO\",\"formSummaryError\":\"FormControls_formSummaryError__1WM47\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"users_usersPhoto__3liDa\",\"wrapper\":\"users_wrapper__36Z22\",\"selectedPage\":\"users_selectedPage__1q_0F\",\"preloader\":\"users_preloader__1kE8p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__3h2I9\",\"textarea\":\"MyPosts_textarea__3UrQM\",\"button\":\"MyPosts_button__2M1xn\",\"wrapper\":\"MyPosts_wrapper__CACXw\",\"myPost\":\"MyPosts_myPost__1FXR6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"ProfileInfo_img__1tdta\",\"wrapper\":\"ProfileInfo_wrapper__3j5wR\",\"description\":\"ProfileInfo_description__pomnQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__3UFjI\",\"likesAndMessage\":\"Post_likesAndMessage__-iqab\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2uQ72\",\"login\":\"Header_login__22AUk\"};"],"sourceRoot":""}